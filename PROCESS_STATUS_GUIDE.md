# 进程状态判断指南

## 批处理器状态含义

### ✅ 正常状态
1. **批处理器：已停止** + 有已处理文章 = **正常完成**
   - 批处理器完成任务后自动退出
   - 这是设计行为，不是错误

2. **批处理器：运行中** = **正在处理文章**
   - 正常工作状态
   - 可通过日志查看进度

### ⚠️ 需要关注的状态
1. **批处理器：已停止** + 无处理文章 + 有待处理URL = **可能需要启动**
   - 运行 `node intelligent_concurrent_controller.js` 继续处理

2. **批处理器：已停止** + 大量错误日志 = **异常退出**
   - 检查错误日志
   - 可能需要修复问题后重新启动

## 快速状态检查命令

```bash
# 一键检查系统状态
./check_process_status.sh

# 查看实时处理进度
ps aux | grep -E 'node.*(batch|intelligent|scrape)' | grep -v grep

# 查看今日成果
ls golf_content/$(date +%Y-%m-%d)/wechat_ready/ | wc -l
```

## 判断标准

### 🟢 系统正常的标志
- 有文章被成功处理
- 日志显示"完成"而非"错误"
- Web服务器正常运行（8080端口）

### 🔴 系统异常的标志
- 连续多次启动批处理但文章数不增加
- 日志中出现大量错误信息
- 进程异常占用CPU或内存

## 监控面板状态对照表

| 显示状态 | 含义 | 是否正常 | 建议操作 |
|---------|------|---------|---------|
| 批处理器：已停止 + 有已处理文章 | 正常完成一轮处理 | ✅ 正常 | 如有新URL可再次启动 |
| 批处理器：运行中 | 正在处理文章 | ✅ 正常 | 等待完成 |
| 批处理器：已停止 + 无文章 | 未开始或全部失败 | ⚠️ 需检查 | 检查URL文件并启动处理 |
| URL生成：运行中 | 正在抓取新URL | ✅ 正常 | 等待完成 |
| Web服务器：运行中 | 服务正常 | ✅ 正常 | 无需操作 |