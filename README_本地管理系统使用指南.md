# 🏌️ 高尔夫内容本地管理系统

## 📋 系统概述

本地化高尔夫内容管理系统，完全替代飞书，提供可视化仪表板、文章管理和一键复制到微信公众号的功能。

## 🌟 主要特色

- 📊 **可视化仪表板** - 统计信息一目了然
- 📱 **微信公众号优化** - 一键复制，完美适配
- 🖼️ **图片直接复制** - 点击图片即可复制到剪贴板
- 📋 **富文本支持** - 保持格式的智能复制
- 🔄 **实时数据刷新** - 自动检测新内容
- 🌐 **本地运行** - 无需网络，数据安全

## 🚀 快速开始

### 1. 安装依赖
```bash
npm install
```

### 2. 完整演示（推荐新用户）
```bash
npm run demo
```

### 3. 快速启动（有数据时）
```bash
npm run quick
```

### 4. 仅启动管理系统
```bash
npm run web
```

## 📚 详细使用说明

### 📥 内容抓取和改写

#### 方法1: 使用演示脚本（推荐）
```bash
npm run demo
```
自动执行完整工作流：抓取 → 改写 → 生成微信版本 → 启动管理系统

#### 方法2: 手动步骤
```bash
# 1. 抓取英文文章并使用Claude改写
npm run claude-extract

# 2. 生成微信公众号版本
npm run wechat-gen

# 3. 启动管理系统
npm run web
```

### 🌐 访问管理系统

启动后访问：**http://localhost:3000**

#### 🏠 首页功能
- 📊 总体统计：天数、文章数、数据源统计
- 📅 最近活动：显示最近5天的抓取情况
- 🌐 数据源：展示所有内容来源
- 👆 点击日期：直接跳转到文章列表

#### 📰 文章列表页
- 📋 文章概览：标题、发布时间、分类
- 📱 快速操作：查看微信版本、访问原文
- 🔗 原文链接：直接跳转到英文原文

#### 📱 文章详情页
- 📋 **复制全文**：包含格式和图片的完整复制
- 📝 **仅复制文字**：纯文本版本，适合特殊需求
- 🖼️ **图片复制**：点击任意图片直接复制
- 🏠 **导航功能**：返回列表、返回首页

## 🛠️ 系统命令

### 基础命令
| 命令 | 功能 | 说明 |
|------|------|------|
| `npm run demo` | 完整演示 | 新用户推荐，包含完整工作流 |
| `npm run quick` | 快速启动 | 跳过抓取，直接启动管理系统 |
| `npm run status` | 状态检查 | 检查数据和系统状态 |
| `npm run web` | 启动管理系统 | 仅启动web界面 |

### 分步命令
| 命令 | 功能 | 说明 |
|------|------|------|
| `npm run claude-extract` | 抓取改写 | 抓取英文文章并Claude改写 |
| `npm run wechat-gen` | 生成微信版本 | 生成适合微信公众号的格式 |
| `npm run manager` | 启动管理器 | 同web命令 |

### 数据管理命令
| 命令 | 功能 | 说明 |
|------|------|------|
| `npm run data-stats` | 数据统计 | 详细的数据统计报告 |
| `npm run data-backup` | 创建备份 | 完整备份所有数据 |
| `npm run data-backups` | 查看备份 | 列出所有备份文件 |
| `npm run data-clean-30` | 清理30天前 | 安全清理30天前的数据 |
| `npm run data-clean-90` | 清理90天前 | 安全清理90天前的数据 |

### 维护命令
| 命令 | 功能 | 说明 |
|------|------|------|
| `npm run clean-confirm` | 安全清理 | 显示删除确认信息，防止误操作 |
| `npm run clean-old` | 清理旧数据 | 删除30天前的数据 |
| `npm run help` | 帮助信息 | 显示原系统帮助 |

## 📁 目录结构

```
golf_content/
├── 2025-07-07/                    # 按日期组织
│   ├── articles/                  # 原始文章文件
│   │   ├── article_001.md
│   │   └── ...
│   ├── images/                    # 下载的图片
│   │   ├── img_001.jpg
│   │   └── ...
│   ├── wechat_ready/             # 微信准备版本
│   │   ├── wechat_article_001.md
│   │   └── ...
│   ├── wechat_simple/            # 精简HTML版本
│   │   ├── wechat_article_001_simple.html
│   │   └── ...
│   ├── daily_summary.md          # 每日总结
│   └── content_for_rewrite.json  # 结构化数据
├── 2025-07-06/
└── ...
```

## 💡 使用技巧

### 📱 微信公众号发布流程

1. **访问管理系统**：http://localhost:3000
2. **选择文章**：点击日期 → 点击文章标题
3. **复制内容**：点击"📋 复制全文"按钮
4. **粘贴到微信**：在微信公众号编辑器中粘贴
5. **复制图片**：逐个点击图片复制到微信

### 🖼️ 图片处理建议

- **直接复制**：点击图片直接复制到剪贴板
- **格式保持**：复制的图片保持原始质量
- **批量处理**：可以先复制文字，再逐个复制图片

### 🔄 数据管理

### 🛡️ 数据安全保证

**✅ 您的数据完全安全，永不会被自动删除！**

- **永久保存**：所有文章按日期独立保存，不会覆盖
- **无自动清理**：系统没有任何自动删除机制
- **累积增长**：新数据只会增加，历史数据永久保留
- **去重机制**：重复文章不会重复抓取，避免浪费空间

### 📊 数据管理命令

| 命令 | 功能 | 说明 |
|------|------|------|
| `npm run data-stats` | 查看统计 | 详细的数据统计报告 |
| `npm run data-backup` | 创建备份 | 完整备份所有数据 |
| `npm run data-backups` | 查看备份 | 列出所有备份文件 |
| `npm run data-clean-30` | 清理30天前 | 仅删除30天前的数据 |
| `npm run data-clean-90` | 清理90天前 | 仅删除90天前的数据 |

### 📈 当前数据状况

通过`npm run data-stats`可以看到：
- **📅 数据天数**: 3天（2025-07-04 ~ 2025-07-07）
- **📰 文章总数**: 33篇文章
- **🖼️ 图片总数**: 91张高质量图片
- **📁 总大小**: 185.5 MB
- **📱 微信就绪**: 已生成可复制版本

### 💾 备份建议

- **定期备份**：建议每周运行`npm run data-backup`
- **重要时刻**：发布前、系统升级前建议备份
- **备份位置**：`golf_content_backups/`目录
- **备份内容**：包含所有文章、图片、微信版本

## 🔧 高级配置

### 🎨 自定义样式

管理系统的样式都内置在代码中，如需修改：
1. 编辑 `golf_content_manager.js`
2. 找到对应的CSS样式部分
3. 修改颜色、字体、布局等

### 🌐 端口修改

默认端口是3000，如需修改：
1. 编辑 `golf_content_manager.js`
2. 找到 `const PORT = 3000;`
3. 改为你需要的端口号

### 📊 数据源扩展

目前支持Golf Monthly，如需添加其他网站：
1. 编辑抓取脚本
2. 添加新的网站配置
3. 更新数据处理逻辑

## 🐛 故障排除

### ❌ 端口被占用
```bash
# 查找占用端口的进程
lsof -ti:3000

# 杀死进程
kill -9 [进程ID]

# 或者修改端口号
```

### ❌ 没有数据显示
```bash
# 检查系统状态
npm run status

# 重新抓取数据
npm run claude-extract
```

### ❌ 图片无法显示
- 检查images目录是否存在
- 确认图片文件完整下载
- 检查浏览器控制台错误信息

### ❌ 复制功能不工作
- 确保使用现代浏览器（Chrome、Firefox、Safari）
- 检查是否允许剪贴板权限
- 尝试使用"仅复制文字"功能

## 📞 技术支持

### 🔍 日志查看
- 系统运行日志会显示在终端
- 浏览器控制台可查看前端错误
- 检查网络请求状态

### 📋 问题反馈
遇到问题时，请提供：
1. 错误信息截图
2. 操作步骤描述
3. 浏览器和系统版本
4. 使用的命令

## 🎯 最佳实践

### 📅 建议的使用流程

1. **每日抓取**：使用`npm run demo`获取最新内容
2. **内容筛选**：通过管理界面查看和筛选文章
3. **批量处理**：一次性处理多篇文章发布
4. **定期维护**：清理旧数据，保持系统性能

### 💰 成本优化

- **本地运行**：无服务器费用
- **Claude使用**：按需使用，控制成本
- **图片存储**：本地存储，无存储费用
- **无API限制**：本地管理，无调用限制

## 🆚 与飞书方案对比

| 功能 | 本地管理系统 | 飞书方案 |
|------|-------------|----------|
| 数据安全 | ✅ 本地存储 | ❓ 第三方存储 |
| 访问速度 | ✅ 本地快速 | ❓ 网络依赖 |
| 自定义度 | ✅ 完全可控 | ❌ 受限 |
| 复制功能 | ✅ 原生支持 | ❌ 需要适配 |
| 图片处理 | ✅ 直接复制 | ❌ 需要下载 |
| 成本 | ✅ 免费 | ❓ 可能收费 |
| 依赖性 | ✅ 独立运行 | ❌ 依赖飞书 |

---

🎉 **恭喜！你现在拥有了一个完全本地化的高尔夫内容管理系统！** 