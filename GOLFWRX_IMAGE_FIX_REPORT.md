# GolfWRX图片处理问题修复报告

## 问题描述
1. **症状1**: 文章只有前两张图片，后面的图片都没有
2. **症状2**: 部分文章完全没有图片

## 问题原因分析

### 根本原因1：图片数量限制
在 `batch_process_articles.js` 第1054-1057行，代码限制了GolfWRX只能抓取2张图片：
```javascript
// 对于GolfWRX，通常只需要1-2张主要图片
if (imageCounter >= 2) {
    // 只有当是特征图片或大图时才收录
    isValidImage = isFeaturedImage || isLargeImage;
}
```

### 根本原因2：过于严格的图片过滤条件
- 要求图片宽度大于400像素（第1043行）
- 排除了包含"/20"的链接中的图片（第1039行）
- 排除了400x240尺寸的图片（第1028-1029行）

## 修复内容

### 1. 移除图片数量限制
将第1053-1057行修改为：
```javascript
// 对于GolfWRX，不再限制图片数量
// 但仍然保持质量筛选
isValidImage = true;
```

### 2. 放宽图片过滤条件
- 移除了对400x240尺寸图片的限制
- 移除了对包含"/20"链接的限制
- 将最小宽度要求从400px降低到200px
- 移除了`.wp-block-group`和`[class*="related"]`的限制

## 修复后的效果

### 预期改进
1. **WITB文章**（What's In The Bag）：能够抓取所有装备图片，而不仅仅是前2张
2. **产品评测文章**：能够抓取所有产品图片
3. **新闻文章**：能够抓取文章中的所有相关图片

### 保留的过滤
仍然会过滤掉以下类型的图片：
- 头像图片（avatar）
- Logo图片
- Banner图片
- 150像素以下的缩略图
- 相关文章区域的图片
- 社交分享区域的图片

## 测试验证

由于GolfWRX网站有Cloudflare保护，直接测试受限。但修复后的代码将在下次处理新的GolfWRX文章时生效。

### 建议后续操作
1. 处理新的GolfWRX文章时，观察图片数量是否超过2张
2. 特别关注WITB类文章，这类文章通常有10+张装备图片
3. 如果仍有问题，可能需要进一步调整图片选择器或过滤条件

## 修复文件
- `batch_process_articles.js` - 主要的图片处理逻辑

## 注意事项
- 修复只影响GolfWRX网站的图片处理
- 其他网站的图片处理逻辑保持不变
- 修复后仍会保持基本的图片质量筛选