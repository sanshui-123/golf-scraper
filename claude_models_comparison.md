# Claude模型对比：Sonnet vs Haiku

## 🤖 Claude 3 模型系列

Anthropic提供了三个Claude 3模型，按能力和成本排序：

### 1. Claude 3 Opus（最强大）
- **特点**：最强大、最智能
- **价格**：最贵
- **速度**：最慢
- **适用**：复杂任务、深度分析

### 2. Claude 3 Sonnet（平衡型）⬅️ **当前使用**
- **模型名**：`claude-3-sonnet-20240229`
- **特点**：能力和成本的平衡
- **价格**：中等（$15/百万输入tokens）
- **速度**：中等
- **限制**：较严格的速率限制

### 3. Claude 3 Haiku（轻量级）⬅️ **建议切换**
- **模型名**：`claude-3-haiku-20240307`
- **特点**：最快速、最经济
- **价格**：最便宜（$0.25/百万输入tokens，仅为Sonnet的1/60）
- **速度**：最快（约快3-5倍）
- **限制**：更宽松的速率限制

## 🎯 为什么切换到Haiku？

### 1. **速度优势**
- Sonnet：响应时间10-20秒（正常），现在50-60秒
- Haiku：响应时间2-5秒（预期）

### 2. **成本优势**
- Sonnet：$15/百万输入tokens
- Haiku：$0.25/百万输入tokens
- **节省：98.3%的成本**

### 3. **速率限制优势**
- Haiku的请求限制更宽松
- 更不容易触发限流
- 可以支持更高的并发

### 4. **适合文章改写任务**
- 文章改写是相对简单的任务
- 不需要Sonnet的高级推理能力
- Haiku足够完成高质量改写

## 📊 实际效果对比

| 指标 | Sonnet（当前） | Haiku（建议） |
|------|--------------|--------------|
| 响应时间 | 50-60秒 | 5-10秒 |
| 成功率 | 15% | 预计80%+ |
| 每小时处理 | 20篇 | 100+篇 |
| API限制 | 严格 | 宽松 |
| 改写质量 | 优秀 | 良好 |

## 🔧 如何切换

修改 `article_rewriter_api.js` 第13行：

```javascript
// 当前：
this.model = 'claude-3-sonnet-20240229';

// 改为：
this.model = 'claude-3-haiku-20240307';
```

## 💡 预期改善

1. **API响应恢复正常**：从50秒降到5-10秒
2. **成功率大幅提升**：从15%提升到80%+
3. **处理速度提升5倍**：每小时100+篇
4. **成本降低98%**：大幅节省API费用

## ⚠️ 潜在影响

1. **改写质量略有下降**：但仍然足够好
2. **需要测试验证**：确保质量符合要求
3. **可能需要调整prompt**：针对Haiku优化

## 🎯 建议

**立即切换到Haiku模型**，因为：
- 当前的性能瓶颈主要是API响应速度
- Haiku可以解决速率限制问题
- 改写任务不需要最强大的模型
- 性价比极高（速度快5倍，成本低60倍）